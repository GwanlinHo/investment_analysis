# 總體經濟指標擴充計畫 (Macroeconomic Indicators Expansion Plan)

## 1. 目標
在現有的投資分析報告中，加入美國與台灣的關鍵總體經濟數據。採用「混合模式」呈現：
- **市場交易數據** (匯率、原油)：整合至現有的股票群組列表，查看技術面趨勢。
- **統計數據** (GDP、通膨、失業率)：在報告底部新增專屬圖表區塊，查看長線趨勢。

## 2. 執行步驟

### 階段一：環境準備
- [ ] 安裝必要 Python 套件：
    ```bash
    pip install pandas_datareader
    ```
- [ ] 更新 `requirements.txt`。

### 階段二：設定檔更新 (方案 A)
- [ ] 修改 `config.json`，新增「全球總經關鍵指標」群組。
- [ ] 加入標的：
    - 美元指數 (`DX-Y.NYB`)
    - 西德州原油 (`CL=F`)
    - 美元兌台幣 (`TWD=X`)

### 階段三：美國總經數據實作 (方案 B)
- [ ] **資料源**：FRED (Federal Reserve Economic Data)。
- [ ] **實作方式**：使用 `pandas_datareader`。
- [ ] **目標指標**：
    1. **GDP** (代碼: `GDP`) - 季資料。
    2. **CPI 消費者物價指數** (代碼: `CPIAUCSL`) - 計算年增率 (YoY)。
    3. **失業率** (代碼: `UNRATE`)。
    4. **非農就業人數** (代碼: `PAYEMS`)。
- [ ] **圖表呈現**：繪製近 3-5 年趨勢折線圖。

### 階段四：台灣總經數據實作 (方案 B)
- [ ] **資料源**：國發會 (NDC) Open Data API 或 經濟部統計處。
- [ ] **實作方式**：使用 `requests` 呼叫 JSON API。
- [ ] **目標指標**：
    1. **景氣對策信號 (燈號)** - 優先實作 (資料源相對穩定)。
    2. **外銷訂單** - 嘗試介接經濟部資料。
    3. **工業及服務業加班工時** - 嘗試介接主計處資料。
    4. **失業率** - 嘗試介接主計處資料。
- [ ] **備註**：若 API 不穩定或需複雜爬蟲，將優先保留「景氣對策信號」，其餘標示為「資料暫缺」。

### 階段五：報告生成邏輯修改
- [ ] 修改 `investment_analysis.py` 中的 `generate_html_report` 函式。
- [ ] 在「美國長短期國庫券殖利率」區塊下方，新增「總體經濟趨勢」區塊。
- [ ] 版面配置：採用 2x2 或 2x3 的圖表 Grid 排列。

## 待辦事項
1. 確認使用者同意後，執行 `pip install pandas_datareader`。
2. 開始撰寫程式碼。
